### 时间消耗分析
***
T(总) = T(依赖下载) + T(webpack构建)   
T(webpack构建) = T(loader) + T(plugins)


#### T(依赖下载)
***
使用 pnpm 和 npminstall 加速依赖包下载    
使用最新版本 npm 和 npminstall 相比旧版本   
依赖安装时长可以达到原来的 **1/10**


#### 项目开发习惯
***
* 废弃依赖要及时删除
* 对lib进行按需引入
* 在组件中尽量不要引入大型css文件, 会造成重复打包
* 尽可能不要引入未es5化的第三方库


#### 引入webpack第三方优化插件
***
* css代码中引入第三方样式时, 由于第三方样式依赖很多css, 造成臃肿  
  tree-shaking特性


#### loader
***
* css-loader 在0.14.5版本之后压缩耗时增加了几十倍, 目前尚未解决
* babel-loader可以缓存处理过的模块，对于没有修改过的文件不会再重新编译，     
  cacheDirectory 有着2倍以上的速度提升，这对于rebuild 有着非常大的性能提升。


#### webpack自身
***
* CommoonsChunkPlugin 打包共同依赖的代码, 防止重复打包
* resolve.root vs resolve.modulesDirectories    
  绝对路径 vs 相对路径 --- 相对路径会一层一层的往上找, 浪费时间
* external: 把外部依赖通过```<script>```外链脚本引入.    
  节省构建时间, 缩小最终包的体积, cdn加速访问速度
* alias 和 noParse 配合使用, 使指定 module 跳过简析直接进入bundle
* dllplugin 把第三方库提前编译并打包到本地, 不用每次都简析
* happypack 多进程运行 loader & plugin
* webpack-uglify-parallel 代替 UglifyJsPlugin 多核并行压缩
* 打开缓存使用 增量构建(cacheDirectory)


#### webpack分析工具
***
* [在线分析网站](http://webpack.github.com/analyse)   
```
    # 生成分析数据
    webpack --profile --json > stats.json
```
* [webpack-visualizer](https://github.com/chrisbateman/webpack-visualizer)






